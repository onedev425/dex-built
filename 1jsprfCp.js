import{c0 as D,c1 as k,c2 as I,r as c,s as p,be as L,bR as j,t,P as q,j as a,q as i,T as b,aE as R,A as H,$ as y,c3 as f,I as u,p as S,c4 as N,c5 as C,D as P,J as V,z,bU as E,c6 as $,h as B,br as _,bg as M}from"./assets/index-CyIKZwcA.js";import{u as T,a as U,p as Y,S as O,s as F,g as h,G}from"./omI6iCAS.js";import{S as J}from"./CYxzY4q6.js";import{u as W}from"./rzhudTEk.js";import{T as X}from"./D07MMJG9.js";import"./mMiU1HvE.js";import"./G016iS_E.js";import"./C20jg5MW.js";import"./BfMEEv4T.js";import"./BDCxTHDM.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[s]="7175cf7c-7c65-4194-971e-fda0612977c9",o._sentryDebugIdIdentifier="sentry-dbid-7175cf7c-7c65-4194-971e-fda0612977c9")}catch{}})();const K=()=>{const o=T(),{tvlInRune:s,totalActiveBond:r,liquidityAPYLabel:e,totalVolume:l}=U(),{data:n}=D(),{data:m}=k({interval:"day",count:1}),{data:g}=I({count:1,interval:"day"}),v=c.useMemo(()=>{if(!(m&&g))return"$0";const{totalVolumeUsd:w}=m.intervals[0],A=Y(w);return`$${new p(A).toAbbreviation()}`},[g,m]),{totalPooledRune:d}=L(),x=j(n==null?void 0:n.bondingAPY);return c.useMemo(()=>[{iconName:"lockFill",color:"yellow",label:"TVL",value:o(s.getValue("string")),tooltip:t("views.stats.tvlTooltip")},{iconName:"chartArea",color:"purple",label:t("views.stats.totalLiq"),value:o(`${Number.parseInt((n==null?void 0:n.totalPooledRune)||"0")/1e8*2}`),tooltip:t("views.stats.totalLiqTooltip")},{iconName:"chartCandle",color:"pink",label:t("views.stats.totalBond"),value:o(r.getValue("string")),tooltip:t("views.stats.totalBondTooltip")},{iconName:"barchart",color:"blueLight",label:t("views.stats.totalVolume"),value:`$${new p(l).toAbbreviation()}`,tooltip:t("views.stats.totalVolumeTooltip")},{iconName:"history",color:"yellow",label:t("views.stats.24Volume"),value:v,tooltip:t("views.stats.24VolumeTooltip")},{iconName:"percent",color:"purple",label:t("views.stats.liqAPY"),value:e,tooltip:t("views.stats.liqAPYTooltip")},{iconName:"chartArea2",color:"pink",label:t("views.stats.totalRUNE"),value:`${d.toAbbreviation(1)} / ${r.toAbbreviation(1)}`,tooltip:t("views.stats.totalRUNETooltip")},{iconName:"percent",color:"blueLight",label:t("views.stats.bondAPY"),value:x}],[v,e,l,r,d,n,s,x,o])},Q=()=>{const{hideStats:o}=q(),s=K();return o?null:a.jsxs(i,{col:!0,children:[a.jsx(i,{alignCenter:!0,className:"gap-x-2 rounded-2xl",children:a.jsx(b,{textStyle:"h3",children:"THORChain Stats"})}),a.jsx(O,{scrollable:!0,itemWidth:230,list:s})]})},Z=c.memo(Q),ee=["1h","24h","7d","30d","90d","100d","180d","365d"],ae=["1 Hour","24 Hours","7 Days","30 Days","90 Days","100 Days","180 Days","365 Days"],te=({poolsLoading:o})=>{const s=R(),r=T();return c.useMemo(()=>[{id:"pool",Header:()=>t("common.pool"),accessor:e=>e,sortType:F,Cell:({cell:{value:e}})=>{var l;return a.jsxs("div",{className:"flex flex-row items-center",children:[a.jsx(H,{asset:y.fromStringSync(e.asset),size:40}),a.jsxs(b,{className:"hidden pl-4 h4 md:block",children:[e.status==="staged"?`(Staged)
`:"",(l=y.fromStringSync(e.asset))==null?void 0:l.ticker]})]})}},{id:"price",Header:()=>t("common.usdPrice"),accessor:e=>e.assetPriceUSD,align:"right",Cell:({cell:{value:e}})=>new p(e).toCurrency(),sortType:h("price")},{id:"liquidity",Header:()=>t("common.liquidity"),accessor:e=>p.fromBigInt(BigInt(e.runeDepth),8).mul(2),align:"right",Cell:({cell:{value:e}})=>r(e.getValue("string")),sortType:h("liquidity")},{id:"volume24h",Header:()=>t("common.24Volume"),accessor:e=>p.fromBigInt(BigInt(e.volume24h),8),align:"right",Cell:({cell:{value:e}})=>r(e.getValue("string")),minScreenSize:f.lg,sortType:h("volume24h")},{id:"saversApr",Header:()=>t("common.saversApr"),accessor:e=>e.saversAPR,align:"right",Cell:({cell:{value:e}})=>o||!e?a.jsx(i,{justify:"end",children:a.jsx(u,{spin:!0,name:"loader",size:16})}):e==="0"?"N/A":j(e),sortType:h("saversApr"),toolTip:a.jsx(S,{content:t("views.home.aprExplanation"),place:"bottom",children:a.jsx(N,{href:C,onClick:e=>e.stopPropagation(),target:"_blank",zIndex:1,children:a.jsx(u,{className:"p-1 absolute top-1.5 text-xs rounded-lg transform mx-1 hover:bg-btn-primary fill-btn-primary hover:fill-white",name:"question",size:16})})})},{id:"apr",Header:()=>t("common.APR"),accessor:e=>j(e.annualPercentageRate),align:"right",Cell:({cell:{value:e}})=>o||!e?a.jsx(i,{justify:"end",children:a.jsx(u,{spin:!0,name:"loader",size:16})}):e,sortType:h("apr"),toolTip:a.jsx(S,{content:t("views.home.aprExplanation"),place:"bottom",children:a.jsx(N,{href:C,onClick:e=>e.stopPropagation(),target:"_blank",zIndex:1,children:a.jsx(u,{className:"p-1 absolute top-1.5 text-xs rounded-lg transform mx-1 hover:bg-btn-primary fill-btn-primary hover:fill-white",name:"question",size:16})})})},{id:"action",Header:()=>t("common.action"),accessor:e=>y.fromStringSync(e.asset),Cell:({cell:{value:e}})=>a.jsxs(i,{row:!0,className:"gap-2",justify:"end",children:[a.jsx(P,{onClick:l=>{l.stopPropagation(),s(V(y.from({chain:z.Ethereum}),e))},variant:"outlineSecondary",children:t("common.swap")}),a.jsx(P,{onClick:l=>{l.stopPropagation(),s(E(e))},variant:"outlinePrimary",children:t("common.addLiquidity")})]}),disableSortBy:!0,minScreenSize:f.md}],[s,r,o])},oe=[{id:"liquidity",desc:!0}],se=({data:o,poolsLoading:s})=>{const r=c.useCallback(({original:l})=>{$(l.asset)},[]),e=te({poolsLoading:s});return a.jsx(i,{col:!0,center:!o.length,children:o.length?a.jsx(X,{sortable:!0,columns:e,data:o,initialSort:oe,onRowClick:r}):a.jsx(u,{spin:!0,name:"loader",size:32})})},le=c.memo(()=>{const[o,s]=c.useState(""),[r,e]=c.useState(3),{isMdActive:l}=B(),{pools:n,poolsLoading:m}=W(ee[r]),g=c.useMemo(()=>o?n.filter(({asset:d})=>{const x=d.toString().toLowerCase(),w=o.toLowerCase();return x.includes(w)}):n,[n,o]),v=c.useCallback(d=>{s(d.target.value)},[]);return a.jsx(i,{col:!0,children:l&&a.jsxs(i,{col:!0,className:"gap-8",children:[a.jsx(b,{textStyle:"h3",children:t("common.pools")}),a.jsxs(i,{alignCenter:!0,className:"flex-wrap gap-2 lg:flex-row",justify:"between",children:[a.jsx(i,{className:"w-fit gap-2",children:a.jsx(_,{border:"rounded",icon:"search",onChange:v,placeholder:"Search",value:o})}),a.jsxs(i,{className:"w-fit gap-2",children:[a.jsx(b,{className:"pt-2",textStyle:"p",children:t("views.home.aprPeriodRange")}),a.jsx(J,{forceDropdown:!0,activeIndex:r,disableDropdown:!1,dropdownPlacement:"start-start",onChange:e,options:ae})]})]}),a.jsx(se,{data:g,poolsLoading:m})]})})}),ie=()=>a.jsxs(i,{col:!0,children:[a.jsx(M,{content:t("views.home.description"),keywords:"Liquidity, Pools, THORChain, THORSwap, DEFI, DEX",title:t("views.home.title")}),a.jsxs(i,{col:!0,className:"pt-2",children:[a.jsx("div",{className:"pb-4",children:a.jsx(Z,{})}),a.jsx(G,{}),a.jsx(le,{})]})]}),re=ie;export{re as default};
