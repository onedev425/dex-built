import{r as t,P as R,aw as _,bt as z,al as x,t as l,z as H,bu as M,j as c,q as k,T as O,H as S,s as j,Y as v,ak as $}from"./assets/index-CyIKZwcA.js";import{P as q}from"./B3Cf38Ih.js";import{u as B}from"./Bfr6H5f3.js";import{getSwapKitClient as P}from"./CRWIkueS.js";import{g as V}from"./Cx7gR159.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="3b4b69ae-fc3a-49ba-8209-d45001b4a72f",e._sentryDebugIdIdentifier="sentry-dbid-3b4b69ae-fc3a-49ba-8209-d45001b4a72f")}catch{}})();const W=t.memo(({recipient:e,setRecipient:s,outputAssetChain:a,isOutputWalletConnected:d,setIsValidRecipient:i})=>{const{customRecipientMode:E}=R(),[b,g]=t.useState(""),[u,p]=t.useState(e||""),[y,I]=t.useState(!1),f=_(u,1e3),{loading:h,TNS:n,setTNS:C}=B(u);t.useEffect(()=>{e!==u&&p(e||"")},[a,e]);const o=t.useMemo(()=>{var r;return n!=null&&n.entries?(r=n.entries.find(({chain:m})=>m===a))==null?void 0:r.address:""},[n,a]),N=t.useCallback(()=>I(r=>!r),[]),T=t.useCallback(()=>{z(e),x(l("notification.addressCopied"))},[e]),A=t.useCallback(({target:{value:r}})=>{p(r),g(""),C(null)},[C]);t.useEffect(()=>{if(n&&o){g(n.thorname),s(o),p(o),i(!0);return}if(!(h||o)){if(!f){s(""),i(!1);return}const{validateAddress:r}=P(),m=a===H.BitcoinCash?M(f):f,w=r({address:m,chain:a});if(i(w),!w){s(""),x(l("validation.invalidAddress",{chain:a}));return}s(m||"")}},[n,o,s,h,a,f,i]);const D=t.useMemo(()=>o&&b?`${l("common.recipientAddress")} - ${b}.${a}`:l("common.recipientAddress"),[o,a,b]);return d&&!E?null:c.jsx(q,{stretch:!0,className:"transition-all flex-1 !py-2",disabled:y,loading:h,onChange:A,placeholder:l("common.thornameOrRecipient"),title:c.jsxs(k,{alignCenter:!0,flex:1,justify:"between",children:[c.jsx(O,{fontWeight:"normal",textStyle:"caption",children:D}),c.jsxs(k,{children:[c.jsx(S,{iconName:y?"edit":"lock",onClick:N,size:16}),c.jsx(S,{iconName:"copy",onClick:T,size:16})]})]}),value:o||u})}),F=e=>{const[s,a]=t.useState(new j({value:0,decimal:v.ETH})),d=t.useCallback(async()=>{if(!e)return a(new j({value:0,decimal:v.ETH}));try{const i=await V("balanceOf",[e]);a(i)}catch(i){$(i.toString())}},[e]);return t.useEffect(()=>{d()},[d]),s};export{W as C,F as u};
