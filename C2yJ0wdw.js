import{ae as h,aJ as B,cT as L,r as u,dq as v,s as R,$ as l,z as n,_ as k,a0 as E,ds as H,P as V}from"./assets/index-CyIKZwcA.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="7bbb0e71-2dbb-40a3-b7a1-56ceb3bae3b7",e._sentryDebugIdIdentifier="sentry-dbid-7bbb0e71-2dbb-40a3-b7a1-56ceb3bae3b7")}catch{}})();const g=e=>{switch(e.chain){case n.Avalanche:case n.BinanceSmartChain:case n.Ethereum:return 8e4;case n.BitcoinCash:return 1500;case n.Bitcoin:case n.Litecoin:return 350;case n.Dogecoin:return 450;default:return 1}},P=e=>e?e.isSynthetic?l.from({chain:e.chain}):l.fromChainOrSignature(e.chain):l.from({chain:n.THORChain}),q=({direction:e,multiplier:s})=>e==="transfer"?s:e==="inbound"?2/3:2,U=e=>{if(!e||e.isSynthetic||!(k(e)||E(e)||H(e)))return 1},x=({asset:e,gasRate:s})=>e?e.set(s*g(e)):l.fromChainOrSignature(n.THORChain,.02),z={[h.Average]:1.2,[h.Fast]:1.5,[h.Fastest]:2},I=({gasPrice:e,direction:s="transfer",feeOptionType:i=h.Fast,multiplier:t})=>e*q({direction:s,multiplier:t||z[i]}),C=({asset:e,type:s="transfer",chainInfo:i})=>{const{feeOptionType:t}=V();return u.useMemo(()=>I({gasPrice:(i==null?void 0:i.gasAsset)||0,feeOptionType:t,multiplier:U(e),direction:s==="inbound"?"inbound":"transfer"})*g(e),[e,i,t,s])},j=({inputAsset:e,outputAsset:s,type:i="transfer"})=>{const t=P(e),a=P(s),{data:A,isLoading:w}=B([t,a,e,s].filter(Boolean)),{data:r,isLoading:O}=L(),[G,M]=u.useMemo(()=>{const c=r==null?void 0:r.find(({asset:p})=>p.includes(t==null?void 0:t.chain)),o=r==null?void 0:r.find(({asset:p})=>p.includes(a==null?void 0:a.chain));return[c,o]},[r,t==null?void 0:t.chain,a==null?void 0:a.chain]),D=C({asset:t,type:i,chainInfo:G}),S=C({asset:a,type:i,chainInfo:M}),b=u.useMemo(()=>t.set(D),[D,t]),f=u.useMemo(()=>a.set(S),[S,a]),d=u.useCallback(c=>{var o,p;return((p=A[(o=v(c))==null?void 0:o.identifier])==null?void 0:p.price_usd)||0},[A]),{outputGasAssetUSDPrice:m,inputGasAssetUSDPrice:y,inputAssetUSDPrice:T,outputAssetUSDPrice:F}=u.useMemo(()=>({inputAssetUSDPrice:d(e),outputAssetUSDPrice:s?d(s):0,inputGasAssetUSDPrice:d(t),outputGasAssetUSDPrice:d(a)}),[d,e,t,s,a]),_=u.useMemo(()=>{const c=b.getValue("number")*y,o=f.getValue("number")*m;return new R(b.eq(f)?c:c+o).toCurrency()},[b,y,f,m]);return{inputFee:b,outputFee:f,feeInUSD:_,isLoading:O||w,inputAssetUSDPrice:T,outputAssetUSDPrice:F,inputGasAssetUSDPrice:y,outputGasAssetUSDPrice:m}};export{U as a,I as g,x as p,j as u};
