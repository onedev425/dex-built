function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["CRWIkueS.js","assets/index-CyIKZwcA.js","assets/index-C3LuW5Z2.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{h as K,t as e,j as s,D as v,bt as E,I as W,a7 as T,s as g,ag as Y,a9 as J,r as l,$ as D,z as $,R as y,ab as P,al as z,bJ as S,bE as N,q as w,T as f,L as I,ak as G,am as Q,w as X,A as Z,__tla as ee}from"./assets/index-CyIKZwcA.js";import{P as L}from"./B3Cf38Ih.js";import{u as ae,T as se}from"./CkVRNEhN.js";import{u as te,__tla as ne}from"./BQokClGM.js";import{B as m}from"./BuU0OJJZ.js";let M,R,oe=Promise.all([(()=>{try{return ee}catch{}})(),(()=>{try{return ne}catch{}})()]).then(async()=>{(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new Error().stack;o&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[o]="7d15c802-68d9-4eb5-ad33-61f1dd727c9e",a._sentryDebugIdIdentifier="sentry-dbid-7d15c802-68d9-4eb5-ad33-61f1dd727c9e")}catch{}})();let V;R=a=>{var c;const{isMdActive:o}=K();return a?[{key:"node_address",label:e("views.nodes.address"),value:s.jsx(v,{className:"!px-2 h-auto",onClick:i=>{E(a.node_address),i.stopPropagation(),i.preventDefault()},rightIcon:s.jsx(W,{name:"copy",size:14}),tooltip:e("common.copy"),variant:"borderlessTint",children:o?a.node_address:T(a.node_address,6,4)})},{key:"bond_address",label:e("views.nodes.bondAddress"),value:s.jsx(v,{className:"!px-2 h-auto",onClick:i=>{E(a.bond_address),i.stopPropagation(),i.preventDefault()},rightIcon:s.jsx(W,{name:"copy",size:14}),tooltip:e("common.copy"),variant:"borderlessTint",children:o?a.bond_address:T(a.bond_address,6,4)})},{key:"ip_address",label:e("views.nodes.IPAddress"),value:a.ip_address},{key:"version",label:e("views.nodes.version"),value:a.version},{key:"status",label:e("views.nodes.status"),value:a.status},{key:"bond",label:e("views.nodes.bond"),value:new g(a.total_bond).div(1e8).toCurrency("")},{key:"current_award",label:e("views.nodes.currentReward"),value:new g(a.current_award).div(1e8).toCurrency("")},{key:"slash_points",label:e("views.nodes.slashPoints"),value:`${a.slash_points.toString()}`},{key:"active_block_height",label:e("views.nodes.activeBlock"),value:new g(a.active_block_height).toCurrency("")},{key:"requested_to_leave",label:e("views.nodes.requestedToLeave"),value:`${a.requested_to_leave?"YES":"NO"}`},{key:"forced_to_leave",label:e("views.nodes.forcedToLeave"),value:`${a.forced_to_leave?"YES":"NO"}`},{key:"leave_height",label:e("views.nodes.leaveHeight"),value:`${a.leave_height.toString()}`},{key:"jail_address",label:e("views.nodes.jailNodeAddress"),value:a.jail.node_address?T((c=a.jail)==null?void 0:c.node_address,6,4):""}]:[]},V=({address:a,handleBondAction:o,skipWalletCheck:c})=>{const{setIsConnectModalOpen:i}=Y(),{getWallet:p,hasWallet:_}=J(),[C,u]=l.useState(),d=l.useMemo(()=>Object.values(m).map(t=>({label:e(`views.nodes.${t}`),value:t})),[]),b=l.useCallback(t=>d.find(A=>A.value===t),[d]),[r,x]=l.useState(D.fromChainOrSignature($.THORChain,0)),{rawValue:j,onChange:k}=ae({amountValue:new g({value:r.getValue("number"),decimal:r.decimal}),onAmountChange:t=>x(D.fromChainOrSignature($.THORChain,t.getValue("number")))}),q=l.useMemo(()=>c||_,[_,c]),O=l.useMemo(()=>p(y.chain),[p]),{getMaxBalance:B}=te();l.useEffect(()=>{B(y).then(t=>u(t))},[B]);const[h,F]=l.useState(d[0]),H=l.useCallback(async()=>{const{thorchain:t}=await(await P(()=>import("./CRWIkueS.js"),__vite__mapDeps([0,1,2]))).getSwapKitClient();if(!t)throw new Error("SwapKit client not found");const{ThorchainToolbox:A}=await P(()=>import("./assets/index-CyIKZwcA.js").then(async n=>(await n.__tla,n)).then(n=>n.hm),__vite__mapDeps([1,2]));if(!await A().validateAddress(a||""))return z(e("views.nodes.detail.InvalidNodeAddress"),e("views.nodes.detail.CorrectNodeAddress"));if(o)return o({type:h.value,nodeAddress:a||"",amount:r});if(!O)return z(e("views.nodes.detail.WalletNotConnected"),e("views.nodes.detail.ConnectThorChainAgainPlease"));try{if(h.value===m.Bond){const n=`https://runescan.io/tx/${await t.nodeAction({address:a||"",type:S.BOND,assetValue:r})}}`;N(e("views.nodes.detail.ViewBondTx"),s.jsxs(w,{className:"align-center py-2",children:[s.jsx(f,{fontWeight:"light",textStyle:"caption-xs",children:e("views.nodes.detail.transactionSentSuccessfully")}),s.jsx(I,{className:"no-underline",to:n,children:s.jsx(v,{size:"sm",variant:"outlineTint",children:e("views.nodes.detail.ViewTransaction")})})]}))}else if(h.value===m.Unbond){const n=`https://runescan.io/tx/${await t.nodeAction({address:a||"",type:S.UNBOND,assetValue:r})}}`;N(e("views.nodes.detail.ViewUnBondTx"),s.jsxs(s.Fragment,{children:[s.jsx(f,{fontWeight:"light",textStyle:"caption-xs",children:e("views.nodes.detail.transactionSentSuccessfully")}),s.jsx(I,{className:"no-underline pt-3",to:n,children:s.jsx(v,{size:"sm",variant:"outlineTint",children:e("views.nodes.detail.ViewTransaction")})})]}))}else{const n=`https://runescan.io/tx/${await t.nodeAction({address:a||"",type:S.LEAVE})}}`;N(e("views.nodes.detail.ViewLeaveTx"),s.jsxs(s.Fragment,{children:[s.jsx(f,{fontWeight:"light",textStyle:"caption-xs",children:e("views.nodes.detail.transactionSentSuccessfully")}),s.jsx(I,{className:"no-underline pt-3",to:n,children:s.jsx(v,{size:"sm",variant:"outlineTint",children:e("views.nodes.detail.ViewTransaction")})})]}))}}catch(n){G(n),Q(e("views.nodes.detail.TransactionFailed"),`${n}`,void 0,n)}},[r,o,a,h.value,O]),U=l.useCallback(t=>F(b(t)||d[0]),[b,d]);return{tabs:d,activeTab:h,handleComplete:H,rawAmount:j,onAmountChange:k,onTabChange:U,isWalletConnected:q,setIsConnectModalOpen:i,maxInputBalance:C}},M=({address:a,handleBondAction:o,skipWalletCheck:c})=>{const[i,p]=l.useState(a||""),{tabs:_,handleComplete:C,activeTab:u,rawAmount:d,onAmountChange:b,onTabChange:r,isWalletConnected:x,setIsConnectModalOpen:j}=V({address:i,handleBondAction:o,skipWalletCheck:c});return s.jsxs(w,{col:!0,className:"self-stretch gap-1",children:[s.jsx(se,{onChange:r,tabs:_,value:u.value}),!a&&s.jsx(L,{autoFocus:!0,stretch:!0,onChange:k=>p(k.target.value),placeholder:"thor...",title:e("common.nodeAddress"),value:i}),s.jsx(w,{className:X("transition-all overflow-hidden",u.value===m.Leave?"max-h-[0px]":"max-h-[86px]"),children:s.jsx(L,{className:"flex-1 overflow-hidden",onChange:b,placeholder:e("common.amount"),suffix:s.jsxs(w,{className:"w-[84px] gap-x-2 pt-2",children:[s.jsx(f,{textStyle:"subtitle2",children:y.ticker}),s.jsx(Z,{asset:y,size:26})]}),title:u.value===m.Bond?e("views.nodes.bondAmount"):e("views.nodes.unbondAmount"),value:d})}),s.jsx(w,{center:!0,className:"w-full pt-5",children:s.jsx(v,{stretch:!0,onClick:x?C:()=>j(!0),size:"lg",variant:"fancy",children:x?u.label:e("common.connectWallet")})})]})}});export{M as N,oe as __tla,R as u};
