import{aa as N,j as e,q as i,T as t,t as s,p as j,E as S,w as b,bb as M,cQ as W,I as C,H as p,D as k,br as A,aE as I,ag as q,aL as K,bt as F,bE as D,r as O}from"./assets/index-CyIKZwcA.js";import{P as R}from"./GQQXxAVl.js";import{S as d,u as Y,a as _,b as $}from"./BSwmatAe.js";import{V as z}from"./DA3rLf5F.js";import{u as L}from"./Dk64sxA0.js";import{M as V,I as B,u as P}from"./BE7Rc-z9.js";import{u as T}from"./B88jsabw.js";import{F as E,T as f}from"./C7jX1ZPo.js";import{I as H}from"./nkxDqpDa.js";import{u as Q}from"./ChoHBXOg.js";import"./Cm6z4UIW.js";import"./C20jg5MW.js";import"./C2yJ0wdw.js";(function(){try{var l=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[r]="0f93b44e-e80b-4242-9606-6973fa4e5925",l._sentryDebugIdIdentifier="sentry-dbid-0f93b44e-e80b-4242-9606-6973fa4e5925")}catch{}})();const U=()=>{const l=N(({multisig:a})=>a.address),{handleCopyAddress:r}=T(l);return e.jsxs(i,{col:!0,className:"gap-5",children:[e.jsxs(i,{col:!0,className:"gap-3",children:[e.jsx(t,{fontWeight:"normal",textStyle:"caption",children:`${s("views.multisig.createdWalletAddress")}:`}),e.jsx(j,{className:"flex flex-1",content:s("common.copy"),children:e.jsx(i,{center:!0,className:"gap-2 cursor-pointer",flex:1,onClick:r,children:e.jsx(S,{className:b(M.primary,"!px-2 !py-3 truncate overflow-hidden flex-1 !border-opacity-20 hover:!border-opacity-100",W),children:e.jsxs(i,{justify:"between",children:[e.jsx(t,{className:"break-all whitespace-normal",textStyle:"caption",variant:"secondary",children:l}),e.jsx("div",{children:e.jsx(C,{className:"px-2",name:"copy",size:16})})]})})})})]}),e.jsxs(i,{className:"gap-2",children:[e.jsx(t,{textStyle:"caption",children:s("views.multisig.exportWalletInfoToFile")}),e.jsx(V,{})]}),e.jsx(d,{})]})},G=({formFields:l,errors:r,addMember:a,register:o,submit:n,removeMember:x,isRequiredMember:m})=>{const{nextStep:h}=Y();return e.jsxs(i,{col:!0,className:"self-stretch mx-2 gap-6",flex:1,children:[e.jsx(i,{col:!0,className:"gap-3",flex:1,children:e.jsx(t,{fontWeight:"normal",textStyle:"caption",children:s("views.multisig.addMembersToWallet")})}),e.jsxs(i,{className:"justify-between",children:[e.jsx(t,{fontWeight:"bold",textStyle:"body",children:s("views.multisig.members")}),e.jsx(p,{color:"secondary",iconName:"infoCircle",tooltip:s("views.multisig.membersTooltip")})]}),e.jsxs(i,{col:!0,children:[!!r.signatureValidation&&e.jsx(E,{hasError:!0,label:r.signatureValidation.message||""}),e.jsxs(i,{className:"mx-2",children:[e.jsx(i,{flex:1,children:e.jsx(t,{textStyle:"caption",children:s("views.multisig.memberName")})}),e.jsx(i,{flex:2,children:e.jsx(t,{textStyle:"caption",children:s("common.pubKey")})})]}),e.jsxs(i,{col:!0,className:"gap-4",children:[l.members.map((u,c)=>{var g,y,w,v;return e.jsxs(i,{className:"gap-2",children:[e.jsx(i,{flex:1,children:e.jsx(f,{field:o(`members.${c}.name`),hasError:!!((y=(g=r.members)==null?void 0:g[c])!=null&&y.name),placeholder:s("views.multisig.memberName")})}),e.jsx(i,{flex:2,children:e.jsx(f,{field:o(`members.${c}.pubKey`,{required:m(c)}),hasError:!!((v=(w=r.members)==null?void 0:w[c])!=null&&v.pubKey),placeholder:s("views.multisig.publicKeyBase64")})}),m(c)?e.jsx(p,{color:"secondary",iconName:"infoCircle",tooltip:s("views.multisig.requiredMember")}):e.jsx(p,{color:"secondary",iconName:"close",onClick:()=>{x(c)},tooltip:s("views.multisig.removeMember")})]},u.id)}),e.jsx(k,{stretch:!0,onClick:a,variant:"outlineTertiary",children:s("views.multisig.addMember")})]})]}),e.jsxs(i,{className:"justify-between",children:[e.jsx(t,{fontWeight:"bold",textStyle:"body",children:s("views.multisig.signers")}),e.jsx(p,{color:"secondary",iconName:"infoCircle",tooltip:s("views.multisig.signersTooltip")})]}),e.jsxs(i,{center:!0,className:"mx-1 gap-2",children:[e.jsx(t,{textStyle:"caption",children:s("views.multisig.setMultisigSigners")}),e.jsxs(i,{center:!0,className:"gap-2",children:[e.jsx(A,{stretch:!0,border:"rounded",className:"py-1 min-w-[25px] text-right",containerClassName:b({"!border-red":!!r.threshold}),...l.threshold}),e.jsxs(t,{className:"whitespace-nowrap",textStyle:"caption",children:[s("views.multisig.outOf"),l.members.length]})]})]}),e.jsx(d,{nextAction:()=>n(h)})]})},J=({pubKey:l})=>{const r=I(),{setIsConnectModalOpen:a}=q(),o=()=>{F(l),D(s("views.multisig.pubKeyCopied"))};return e.jsxs(i,{col:!0,className:"self-stretch mx-2",flex:1,children:[e.jsxs(i,{col:!0,className:"gap-5",flex:1,children:[e.jsx(t,{fontWeight:"normal",textStyle:"caption",children:s("views.multisig.createMultisigPubKeyInfo")}),e.jsx(t,{fontWeight:"normal",textStyle:"caption",children:s("views.multisig.connectThorchainCurrentlyKeystore")}),e.jsx(i,{align:"end",flex:1,children:l?e.jsxs(i,{col:!0,flex:1,children:[e.jsx(E,{label:"Your wallet's public key:"}),e.jsx(j,{className:"flex flex-1",content:s("common.copy"),children:e.jsx(i,{center:!0,className:"gap-2 cursor-pointer",flex:1,onClick:o,children:e.jsx(S,{className:b(M.primary,"!px-2 !py-3 truncate overflow-hidden flex-1 !border-opacity-20 hover:!border-opacity-100",W),children:e.jsxs(i,{justify:"between",children:[e.jsx(t,{className:"break-all whitespace-normal",textStyle:"caption",variant:"secondary",children:l}),e.jsx("div",{children:e.jsx(C,{className:"px-2",name:"copy",size:16})})]})})})})]}):e.jsx(k,{stretch:!0,onClick:()=>a(!0),variant:"primary",children:s("common.connectWallet")})})]}),e.jsx(d,{backAction:()=>r(K.Multisig),backLabel:s("common.cancel")})]})},X=({field:l,hasError:r})=>e.jsxs(i,{col:!0,className:"self-stretch mx-2",flex:1,children:[e.jsxs(i,{col:!0,className:"gap-3",flex:1,children:[e.jsx(t,{fontWeight:"normal",textStyle:"caption",children:s("views.multisig.nameYourWalletOptionaly")}),e.jsx(i,{col:!0,children:e.jsx(f,{field:l,hasError:r,label:s("views.multisig.nameOfNewMultisig"),placeholder:s("views.multisig.nameExample")})})]}),e.jsx(d,{})]}),Z=()=>{const l=I(),r=N(({multisig:n})=>n.address),{handleCopyAddress:a}=T(r),o=Q();return e.jsxs(i,{col:!0,className:"gap-5",children:[e.jsxs(i,{col:!0,className:"gap-3",children:[e.jsx(t,{fontWeight:"normal",textStyle:"caption",children:`${s("views.multisig.thorSafeInfo")}:`}),e.jsx(j,{className:"flex flex-1",content:s("common.copy"),children:e.jsx(i,{center:!0,className:"gap-2 cursor-pointer",flex:1,onClick:a,children:e.jsx(H,{horizontalInset:!0,items:o})})})]}),e.jsx(B,{}),e.jsx(d,{nextAction:()=>l(K.Multisig),nextLabel:s("views.multisig.sendRune")})]})},ee=()=>{const{pubKey:l}=L(),{formFields:r,submit:a,errors:o,register:n,addMember:x,removeMember:m,isRequiredMember:h}=P({pubKey:l}),u=O.useMemo(()=>[{id:0,label:s("views.multisig.getYourPublicKey"),content:e.jsx(J,{pubKey:l})},{id:1,label:s("views.multisig.nameYourThorSafe"),content:e.jsx(X,{field:r.name,hasError:!!o.name})},{id:2,label:s("views.multisig.membersAndTreshold"),content:e.jsx(G,{addMember:x,errors:o,formFields:r,id:2,isRequiredMember:h,register:n,removeMember:m,submit:a})},{id:3,label:s("views.multisig.exportWalletToFile"),content:e.jsx(U,{})},{id:4,label:s("views.multisig.review"),content:e.jsx(Z,{})}],[x,o,r,h,l,n,m,a]);return e.jsx(_,{initialStep:l?1:0,steps:u,children:e.jsx(R,{header:e.jsx(z,{withBack:!0,title:s("views.multisig.createThorSafeWallet")}),title:s("views.multisig.thorSafeWallet"),children:e.jsx(i,{col:!0,className:"self-stretch",flex:1,children:e.jsx($,{})})})})};export{ee as default};
