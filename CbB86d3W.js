import{r as s,aI as C,$ as v,z as l}from"./assets/index-CyIKZwcA.js";import{u as A}from"./BQokClGM.js";import{u as E}from"./rzhudTEk.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i=new Error().stack;i&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[i]="670e0288-caec-42bd-a526-a6d862f8a19d",a._sentryDebugIdIdentifier="sentry-dbid-670e0288-caec-42bd-a526-a6d862f8a19d")}catch{}})();const T=(a,i)=>{const{getMaxBalance:u,isWalletConnected:f}=A(),{synthAssets:b}=E(),[c,p]=s.useState([]),[m,y]=s.useState([]),o=s.useCallback(async e=>{const r=await u(e,!0)||C;return f(e.chain)&&r.bigIntValue>0n?r:void 0},[u,f]);s.useEffect(()=>{Promise.all(b.map(e=>o(e).then(r=>({asset:e,provider:"Thorchain",identifier:e.symbol,balance:r})))).then(e=>y(e))},[o,b]);const h=s.useCallback(async()=>{const e=(i?a.filter(t=>{var n;return((n=t==null?void 0:t.provider)==null?void 0:n.toLowerCase())==="thorchain"}):a).map(async({identifier:t,address:n,chain:g,...w})=>{const D=g||t.split(".")[0],[I]=t.split("-"),d=v.fromStringSync([l.Avalanche,l.Ethereum,l.BinanceSmartChain,l.Arbitrum].includes(D)?`${I}${n?`-${n}`:""}`:t);if(!d)return null;const S=await o(d);return{asset:d,balance:S,identifier:t,...w}}),r=await Promise.all(e);p(r.filter(Boolean))},[i,a,o]);return s.useEffect(()=>{h()},[h]),s.useMemo(()=>c.find(e=>e.identifier==="DOT.DOT"||e.identifier==="DASH.DASH")?c:c.concat(m),[c,m])};export{T as u};
