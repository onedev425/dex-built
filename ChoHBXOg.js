import{aa as u,$ as A,z as h,r as l,j as B,I as v,t as m,D,cT as k,cS as p,aE as E,aL as O}from"./assets/index-CyIKZwcA.js";import{u as j}from"./C20jg5MW.js";import{u as R}from"./B88jsabw.js";import{g as M,a as _,p as $}from"./C2yJ0wdw.js";import{u as w}from"./Dk64sxA0.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[e]="b33b3edb-53d1-4a35-ad4e-ce9e5a2ef0ec",a._sentryDebugIdIdentifier="sentry-dbid-b33b3edb-53d1-4a35-ad4e-ce9e5a2ef0ec")}catch{}})();const z=()=>{const{runeBalance:a,loadingBalances:e}=x(),{address:n,threshold:o}=u(({multisig:i})=>i),t=j(2,""),{shortAddress:f,handleCopyAddress:d}=R(n),g=`${t(a||0)} ${A.from({chain:h.THORChain}).ticker}`,r=l.useMemo(()=>a?g:e?B.jsx(v,{spin:!0,name:"refresh",size:16}):"-",[g,e,a]);return[{label:m("views.multisig.safeAddress"),value:B.jsx(D,{className:"!px-2 h-[30px]",onClick:i=>{d(),i.stopPropagation(),i.preventDefault()},rightIcon:B.jsx(v,{name:"copy",size:14}),tooltip:m("common.copy"),variant:"borderlessTint",children:f})},{label:m("views.multisig.runeBalance"),value:r},{label:m("views.multisig.threshold"),value:o}]},x=()=>{const{data:a}=k(),{loadBalances:e}=w(),[n,o]=l.useState(null),{balances:t,loadingBalances:f}=u(({multisig:s})=>s),d=u(({app:s})=>s.feeOptionType);l.useEffect(()=>{e()},[e]),l.useEffect(()=>{const s=p.getAssetBalance(A.from({chain:h.THORChain}),t);o(s)},[t]);const g=t.map(s=>({balance:s,asset:s})),r=l.useCallback(s=>{const c=a==null?void 0:a.find(T=>T.asset.includes(s.chain)),C=M({gasPrice:(c==null?void 0:c.gasAsset)||0,feeOptionType:d,multiplier:_(s)}),I=$({gasRate:C,asset:s}),b=p.getAssetBalance(s,t),y=s.isGasAsset?b.sub(I):b;return y.gt(0)?y:b.mul(0)},[t,d,a]),i=l.useCallback(s=>s.map(c=>({asset:c,balance:p.hasAsset(c,t)?r(c):void 0})),[t,r]);return{loadingBalances:f,runeBalance:n,assetsWithBalance:g,getMaxBalance:r,getBalanceForAssets:i,getAssetBalance:s=>p.getAssetBalance(s,t)}},H=()=>{const{loadBalances:a}=w(),{address:e,balances:n}=u(({multisig:o})=>o);return l.useEffect(()=>{a()},[a]),{wallet:l.useMemo(()=>e?{[h.THORChain]:{address:e,balance:n}}:null,[e,n])}},P=()=>{const a=u(({multisig:n})=>n.address),e=E();a||e(O.Multisig)};export{x as a,H as b,P as c,z as u};
