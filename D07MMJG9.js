import{j as s,I as l,cH as o,w as n,cI as B,B as D,T as H,h as I,r as c,cJ as b,q as z,cK as G}from"./assets/index-CyIKZwcA.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[e]="f7a1fac7-a740-42b7-9033-d1e27eb0ec74",r._sentryDebugIdIdentifier="sentry-dbid-f7a1fac7-a740-42b7-9033-d1e27eb0ec74")}catch{}})();const R=r=>{const{sortType:e}=r;return s.jsxs("div",{className:"flex flex-col",children:[s.jsx(l,{className:"-mb-1.5",color:e===o.Asc?"primary":"secondary",name:"sortUp",size:12}),s.jsx(l,{className:"-mt-1",color:e===o.Desc?"primary":"secondary",name:"sortDown",size:12})]})},_=r=>{const{column:e}=r,a=()=>e.isSorted?e.isSortedDesc?o.Desc:o.Asc:o.None;return s.jsxs("th",{className:n("px-1.5 first:pl-4 last:pr-4 last:text-right",B[e.align||"left"]),...e.getHeaderProps(e.getSortByToggleProps()),children:[s.jsxs(D,{className:n("inline-flex items-center gap-1 transition",{"hover:text-light-typo-primary dark:hover:text-dark-typo-primary":e.canSort}),children:[s.jsx(H,{className:n({"hover:text-light-typo-primary dark:hover:text-dark-typo-primary":e.canSort}),textStyle:"caption-xs",variant:"secondary",children:e.render("Header")}),e.canSort&&s.jsx(R,{sortType:a()})]}),e.toolTip&&s.jsx("div",{className:"inline-flex",children:e.toolTip})]})},A=r=>{const{headerGroup:e}=r;return s.jsx("tr",{className:"text-left",...e.getHeaderGroupProps(),children:e.headers.map(a=>s.jsx(_,{column:a},a.getHeaderProps().key))})},M=({columns:r,data:e,sortable:a,loading:d,initialSort:i,hasShadow:f=!0,onRowClick:g,stretch:j})=>{const{isSizeActive:p}=I(),S=c.useMemo(()=>i,[i]),{getTableProps:m,getTableBodyProps:y,headerGroups:w,rows:N,prepareRow:P,setHiddenColumns:u,columns:x}=b.useTable({autoResetSortBy:!1,columns:r,data:e,disableSortBy:!a,initialState:{sortBy:i?S:[]}},b.useSortBy),h=c.useMemo(()=>x.filter((t,v)=>!p(r[v].minScreenSize)).map(t=>t.id),[x,r,p]);c.useEffect(()=>{u(h)},[h,u]);const{tableProps:T,bodyProps:k}=c.useMemo(()=>({tableProps:m(),bodyProps:y()}),[y,m]);return d?s.jsx(z,{center:!0,className:"mt-8",children:s.jsx(l,{spin:!0,color:"primaryBtn",name:"refresh",size:24})}):s.jsxs("table",{...T,className:n("relative border-separate border-spacing-y-1",{"w-full":j}),children:[s.jsx("thead",{children:w.map(t=>s.jsx(A,{headerGroup:t},t.getHeaderGroupProps().key))}),s.jsx("tbody",{...k,className:n({"opacity-30":d}),children:s.jsx(G,{hasShadow:f,onRowClick:g,prepareRow:P,rows:N})})]})};export{M as T};
